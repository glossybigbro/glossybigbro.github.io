@import "tailwindcss";

@theme inline {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
  --font-sans: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 6%;
    --foreground: 0 0% 95%;
    --card: 0 0% 8%;
    --card-foreground: 0 0% 95%;
    --popover: 0 0% 6%;
    --popover-foreground: 0 0% 95%;
    --primary: 0 0% 95%;
    --primary-foreground: 0 0% 10%;
    --secondary: 0 0% 12%;
    --secondary-foreground: 0 0% 95%;
    --muted: 0 0% 12%;
    --muted-foreground: 0 0% 65%;
    --accent: 0 0% 12%;
    --accent-foreground: 0 0% 95%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 95%;
    --border: 0 0% 18%;
    --input: 0 0% 18%;
    --ring: 0 0% 80%;
  }

  /* 재사용 가능한 상수 */
  :root {
    /* 호버 효과 색상 */
    --hover-bg: #323236;
    --hover-fg: #EEEEEE;

    /* Z-index 스케일 */
    --z-header: 50;
    --z-toast: 100;
    --z-transition-old: 1;
    --z-transition-new: 9999;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }

  /* View Transition이 없을 때만 부드러운 전환 적용 */
  body:not(.view-transitioning) {
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* 모바일 탭 하이라이트 및 포커스 상태 제거 */
  button,
  a {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0) !important;
  }

  button:focus,
  button:focus-visible,
  button:active {
    outline: none;
    box-shadow: none;
  }

  a:focus,
  a:focus-visible,
  a:active {
    outline: none;
    box-shadow: none;
  }
}

@layer utilities {
  .emphasis {
    @apply font-bold italic;
  }

  .skills {
    @apply mt-1 pl-2 pr-2 bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 rounded-md text-sm;
  }

  .xs-badge {
    @apply text-xs bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-lg pl-2 pr-2;
  }
}

/* 호버 효과는 마우스가 있는 장치에서만 적용 (모바일 터치 시 잔상 방지) */
@media (hover: hover) {
  .hover\:rotate-12:hover {
    transform: rotate(12deg);
  }
}

/* View Transition API - 양방향 애니메이션 */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

/* 항상 새로운 테마가 위에서 퍼져나가도록 설정 */
::view-transition-new(root) {
  z-index: var(--z-transition-new);
}

::view-transition-old(root) {
  z-index: var(--z-transition-old);
}

/* 뱃지 4-Way 테마 시스템 */
/* Chrome 시스템 테마(prefers-color-scheme)와 웹사이트 테마(.dark 클래스) 모두에 반응 */

/* 뱃지 공통 스타일 */
.tag-badge,
.playstore-badge,
.enterprise-badge,
.series-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  border-width: 2px;
  padding: 0.25rem 0.75rem;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
  font-weight: 500;
  text-decoration: none;
  transition: all 0.2s ease;
}

/* 시리즈 뱃지 패딩 조정 */
.series-badge {
  padding: 0.375rem 0.75rem;
}

/* Tag Badge - Slate (Chrome Light + Website Light) */
.tag-badge {
  border-color: rgb(203 213 225);
  /* slate-300 */
  background-color: rgb(248 250 252);
  /* slate-50 */
  color: rgb(51 65 85);
  /* slate-700 */
}

.dark .tag-badge {
  border-color: rgb(148 163 184);
  /* slate-400 */
  background-color: rgb(30 41 59);
  /* slate-800 */
  color: rgb(226 232 240);
  /* slate-200 */
}

@media (prefers-color-scheme: dark) {
  .tag-badge {
    border-color: rgb(148 163 184);
    /* slate-400 */
    background-color: rgb(241 245 249);
    /* slate-100 */
    color: rgb(30 41 59);
    /* slate-800 */
  }

  .dark .tag-badge {
    border-color: rgb(100 116 139);
    /* slate-500 */
    background-color: rgb(15 23 42);
    /* slate-900 */
    color: rgb(203 213 225);
    /* slate-300 */
  }
}

/* PlayStore Badge - Green (Chrome Light + Website Light) */
.playstore-badge {
  border-color: rgb(34 197 94);
  /* green-500 */
  background-color: rgb(240 253 244);
  /* green-50 */
  color: rgb(21 128 61);
  /* green-700 */
}

.dark .playstore-badge {
  border-color: rgb(74 222 128);
  /* green-400 */
  background-color: rgb(20 83 45);
  /* green-900 */
  color: rgb(187 247 208);
  /* green-200 */
}

@media (prefers-color-scheme: dark) {
  .playstore-badge {
    border-color: rgb(22 163 74);
    /* green-600 */
    background-color: rgb(240 253 244);
    /* green-50 */
    color: rgb(22 101 52);
    /* green-800 */
  }

  .dark .playstore-badge {
    border-color: rgb(74 222 128);
    /* green-400 */
    background-color: rgb(5 46 22);
    /* green-950 */
    color: rgb(134 239 172);
    /* green-300 */
  }
}

/* Enterprise Badge - Amber (Chrome Light + Website Light) */
.enterprise-badge {
  border-color: rgb(245 158 11);
  /* amber-500 */
  background-color: rgb(255 251 235);
  /* amber-50 */
  color: rgb(180 83 9);
  /* amber-700 */
}

.dark .enterprise-badge {
  border-color: rgb(251 191 36);
  /* amber-400 */
  background-color: rgb(120 53 15);
  /* amber-900 */
  color: rgb(253 230 138);
  /* amber-200 */
}

@media (prefers-color-scheme: dark) {
  .enterprise-badge {
    border-color: rgb(217 119 6);
    /* amber-600 */
    background-color: rgb(255 251 235);
    /* amber-50 */
    color: rgb(245 158 11);
    /* amber-500 */
  }

  .dark .enterprise-badge {
    border-color: rgb(251 191 36);
    /* amber-400 */
    background-color: rgb(69 26 3);
    /* amber-950 */
    color: rgb(252 211 77);
    /* amber-300 */
  }
}

/* Series Badge - Purple (Chrome Light + Website Light) */
.series-badge {
  border-color: rgb(196 181 253);
  /* purple-300 */
  background-color: rgb(243 232 255);
  /* purple-100 */
  color: rgb(88 28 135);
  /* purple-900 */
}

.dark .series-badge {
  border-color: rgb(167 139 250);
  /* purple-400 */
  background-color: rgb(88 28 135);
  /* purple-900 */
  color: rgb(243 232 255);
  /* purple-100 */
}

@media (prefers-color-scheme: dark) {
  .series-badge {
    border-color: rgb(196 181 253);
    /* purple-300 */
    background-color: rgb(237 233 254);
    /* purple-50 */
    color: rgb(76 29 149);
    /* purple-950 */
  }

  .dark .series-badge {
    border-color: rgb(147 51 234);
    /* purple-600 */
    background-color: rgb(59 7 100);
    /* purple-950 */
    color: rgb(216 180 254);
    /* purple-300 */
  }
}

/* Footer GitHub Button - 4-Way Theme System (Enhanced) */
.footer-github-button {
  /* Chrome Light + Website Light */
  border-width: 2px;
  border-color: rgb(55 65 81);
  /* gray-700 */
  background: linear-gradient(135deg, rgb(17 24 39) 0%, rgb(31 41 55) 100%);
  /* gray-900 to gray-800 gradient */
  color: rgb(255 255 255);
  /* white */
}

.footer-github-button:hover {
  background: linear-gradient(135deg, rgb(31 41 55) 0%, rgb(55 65 81) 100%);
  /* gray-800 to gray-700 gradient */
  border-color: rgb(75 85 99);
  /* gray-600 */
  transform: translateY(-2px);
}

.dark .footer-github-button {
  /* Chrome Light + Website Dark */
  border-color: rgb(209 213 219);
  /* gray-300 */
  background: linear-gradient(135deg, rgb(243 244 246) 0%, rgb(229 231 235) 100%);
  /* gray-100 to gray-200 gradient */
  color: rgb(17 24 39);
  /* gray-900 */
}

.dark .footer-github-button:hover {
  background: linear-gradient(135deg, rgb(229 231 235) 0%, rgb(209 213 219) 100%);
  /* gray-200 to gray-300 gradient */
  border-color: rgb(156 163 175);
  /* gray-400 */
  transform: translateY(-2px);
}

@media (prefers-color-scheme: dark) {
  .footer-github-button {
    /* Chrome Dark + Website Light */
    border-color: rgb(75 85 99);
    /* gray-600 */
    background: linear-gradient(135deg, rgb(31 41 55) 0%, rgb(55 65 81) 100%);
    /* gray-800 to gray-700 gradient */
    color: rgb(243 244 246);
    /* gray-100 */
  }

  .footer-github-button:hover {
    background: linear-gradient(135deg, rgb(55 65 81) 0%, rgb(75 85 99) 100%);
    /* gray-700 to gray-600 gradient */
    border-color: rgb(107 114 128);
    /* gray-500 */
    transform: translateY(-2px);
  }

  .dark .footer-github-button {
    /* Chrome Dark + Website Dark */
    border-color: rgb(156 163 175);
    /* gray-400 */
    background: linear-gradient(135deg, rgb(229 231 235) 0%, rgb(209 213 219) 100%);
    /* gray-200 to gray-300 gradient */
    color: rgb(31 41 55);
    /* gray-800 */
  }

  .dark .footer-github-button:hover {
    background: linear-gradient(135deg, rgb(243 244 246) 0%, rgb(229 231 235) 100%);
    /* gray-100 to gray-200 gradient */
    border-color: rgb(209 213 219);
    /* gray-300 */
    transform: translateY(-2px);
  }
}

/* Series Badge - Purple/Indigo */
.series-badge {
  /* Chrome Light + Website Light */
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  border-width: 2px;
  border-color: rgb(196 181 253);
  /* purple-300 */
  background-color: rgb(243 232 255);
  /* purple-100 */
  color: rgb(88 28 135);
  /* purple-900 */
  padding: 0.375rem 0.75rem;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
  font-weight: 500;
}

.dark .series-badge {
  /* Chrome Light + Website Dark */
  border-color: rgb(167 139 250);
  /* purple-400 */
  background-color: rgb(88 28 135);
  /* purple-900 */
  color: rgb(243 232 255);
  /* purple-100 */
}

@media (prefers-color-scheme: dark) {
  .series-badge {
    /* Chrome Dark + Website Light */
    border-color: rgb(196 181 253);
    /* purple-300 */
    background-color: rgb(237 233 254);
    /* purple-50 */
    color: rgb(76 29 149);
    /* purple-950 */
  }

  .dark .series-badge {
    /* Chrome Dark + Website Dark */
    border-color: rgb(147 51 234);
    /* purple-600 */
    background-color: rgb(59 7 100);
    /* purple-950 */
    color: rgb(216 180 254);
    /* purple-300 */
  }
}

/* 아이콘 호버 - 원형 배경 효과 */
.icon-hover {
  position: relative;
  isolation: isolate;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.icon-hover::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 2rem;
  height: 2rem;
  border-radius: 9999px;
  background-color: transparent;
  transition: background-color 0.2s ease;
  z-index: -1;
}

/* 큰 화면에서는 크기 조정 */
@media (min-width: 640px) {
  .icon-hover::before {
    width: 2.5rem;
    height: 2.5rem;
  }
}

/* Light mode: show circular background on hover */
.icon-hover:hover::before {
  background-color: var(--hover-bg);
}

.icon-hover:hover {
  color: var(--hover-fg);
}

/* Dark mode: show circular background on hover */
.dark .icon-hover:hover::before {
  background-color: var(--hover-bg);
}

.dark .icon-hover:hover {
  color: var(--hover-fg);
}

/* 언어 스위치 호버 - 알약 모양 */
.lang-hover {
  position: relative;
  isolation: isolate;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.lang-hover::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 2rem;
  height: 2rem;
  border-radius: 9999px;
  background-color: transparent;
  transition: background-color 0.2s ease;
  z-index: -1;
}

/* 큰 화면에서는 알약 모양으로 변경 (아이콘 포함) */
@media (min-width: 640px) {
  .lang-hover::before {
    width: 3.5rem;
    height: 2.5rem;
    border-radius: 1rem;
  }
}

/* Light mode: show circular background on hover */
.lang-hover:hover::before {
  background-color: var(--hover-bg);
}

.lang-hover:hover {
  color: var(--hover-fg);
}

/* Dark mode: show circular background on hover */
.dark .lang-hover:hover::before {
  background-color: var(--hover-bg);
}

.dark .lang-hover:hover {
  color: var(--hover-fg);
}